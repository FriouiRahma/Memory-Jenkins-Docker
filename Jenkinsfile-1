pipeline {
    agent any
     environment {
             DOCKERHUB_CREDENTIALS = tool 'SonarQube'
        }
    stages {
        stage('SonarQube analysis') {
            steps {
                  withSonarQubeEnv('sq1') {
                    dir("client/"){
                        bat 'npm install sonar-scanner'
                        bat  'npm run sonar-scanner' 
                    }    
                }
            }
        }
    }
}
